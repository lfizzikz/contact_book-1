<table>
  <thead>
    <tr>
      <th>#</th>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
    </tr>
  </thead>
  <tbody>
    {% for c in contacts %} {% if editing_id and c.id == editing_id %}
    <tr>
      <form
        action="{{ url_for('edit_contact', contact_id=c.id) }}"
        method="post"
      >
        <td>{{ c.id }}</td>
        <td><input type="text" name="name" value="{{ c.name }}" required /></td>
        <td><input type="email" name="email" value="{{ c.email or '' }}" /></td>
        <td><input type="text" name="number" value="{{ c.phone or '' }}" /></td>
        <td><button type="submit">Save</button></td>
        <td><a href="{{ url_for('index') }}">Cancel</a></td>
      </form>
    </tr>
    {% else %}
    <tr>
      <form
        method="post"
        action="{{ url_for('edit_contact', contact_id=c.id)}}"
      ></form>
      <td>{{ c.id }}</td>
      <td>{{ c.name }}</td>
      <td>{{ c.email }}</td>
      <td>{{ c.phone | dash_phone }}</td>
      <td><a href="{{ url_for('edit_contact', contact_id=c.id) }}">Edit</a></td>
      <td>
        <form
          method="post"
          action="{{ url_for('delete_contact', contact_id=c.id) }}"
        >
          <button type="submit">Delete</button>
        </form>
      </td>
    </tr>
    {% endif %} {% endfor %}
  </tbody>
</table>
